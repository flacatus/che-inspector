name: CheInspector
version: "0.0.0"
spec:
  deployment:
    cli:
      flags: "chectl server:deploy --installer=operator --platform=minikube"
      flavor: "che"
  tests:
    # Execute happy-path tests
    - name: "happy-path"
      namespace: "eclipse-che"
      image: "quay.io/eclipse/che-e2e:nightly"
      containerContext: "docker"
      env:
      - name: TEST_SUITE
        value: test-devworkspace-happy-path
      - name: NODE_TLS_REJECT_UNAUTHORIZED
        value: '0'
      - name: TS_SELENIUM_BASE_URL
        value: 'http://che-eclipse-che.apps.ci-ln-d28rdt2-f76d1.origin-ci-int-gce.dev.openshift.com'
      - name: 'TS_SELENIUM_DEVWORKSPACE_URL'
        value: 'http://che-eclipse-che.apps.ci-ln-d28rdt2-f76d1.origin-ci-int-gce.dev.openshift.com#https://gist.githubusercontent.com/l0rd/71a04dd0d8c8e921b16ba2690f7d5a47/raw/d520086e148c359b18c229328824dfefcf85e5ef/spring-petclinic-devfile-v2.0.0.yaml'
      - name: TS_SELENIUM_MULTIUSER
        value: 'true'
      - name: TS_SELENIUM_LOG_LEVEL
        value: TRACE
      - name: TS_SELENIUM_OCP_USERNAME
        value: 'user'
      - name: TS_SELENIUM_OCP_PASSWORD
        value: "user"
      - name: TS_SELENIUM_VALUE_OPENSHIFT_OAUTH
        value: 'true'
      - name: TS_SELENIUM_USERNAME
        value: "user"
      - name: TS_SELENIUM_PASSWORD
        value: 'user'
      - name: TS_OCP_LOGIN_PAGE_PROVIDER_TITLE
        value: "htpasswd"
      - name: DELETE_WORKSPACE_ON_FAILED_TEST
        value: "true"
      artifacts:
        fromContainerPath: "/tmp/e2e/report"
        to: "/home/flacatusu/WORKSPACE/che-inspector/tmp"
  reporter:
    - reportPortal:
        name: "<name-of artifacts>"
        baseUrl: "<reportPortalUrl>"
        token: "<token>"
        project: "<reportPortalProject>"
        resultsPath: "<report>"
